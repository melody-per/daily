<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>
    <title>Document</title>
</head>

<body>
    <div id="app">
        <ul>
            <li> {{list}}</li>
        </ul>
    </div>
    <script src='jquery.min.js'></script>
    <script src='vue.js'></script>
    <script src='axios.js'></script>

    <script>
        //封装的解决回调地狱的函数
        function request(url) {
            return new Promise((resolve, seject) => {
                $.ajax({
                    url: url,
                    success(data) {
                        resolve(data)
                    },
                    error(err) {
                        reject(err)
                    }
                })
            })
        }

        // axios.defaults.baseURL = 'http://localhost:3000';
        new Vue({
            el: '#app',
            data: {
                list: ''
            },
            methods: {},
            created: async function () {
                const res = await axios.get('http://localhost:3000/data');
                const res1 = await axios.get('http://localhost:3000/data1');
                const res2 = await axios.get('http://localhost:3000/data2');
                this.list = res.data
                console.log(res.data + 'V');
                console.log(res1.data + 'V');
                console.log(res2.data + 'V');
            }
        })

        async function fn() {
            const res = await request('http://localhost:3000/data')
            const res1 = await request('http://localhost:3000/data1')
            const res2 = await request('http://localhost:3000/data2')
            console.log(res + 'J');
            console.log(res1 + 'J');
            console.log(res2 + 'J');
        }
        fn()
    </script>
</body>


</html>