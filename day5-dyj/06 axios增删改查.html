<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>
    <title>Honey!â¤ğŸˆ</title>
</head>

<body>
    <!--? å¼•å…¥å®¹å™¨ app -->
    <div id='app'>
        <button @click="del">åˆ é™¤</button>
        <button @click="add">å¢åŠ </button>
        <button @click="edit">ä¿®æ”¹</button>
        <li :key='item.id' v-for='item in list' >{{item.name}}</li>
    </div>

    <!-- axios.js æ”¾åœ¨  vue.js ä¸Šé¢ -->
    <script src="lib/axios.js"></script>
    <!--? å¼•å…¥å®¹å™¨ Vue.js -->
    <script src='https://cdn.jsdelivr.net/npm/vue/dist/vue.js'></script>
 
    <script>
        //é…ç½®é»˜è®¤åœ°å€:
        axios.defaults.baseURL = "http://localhost:3000/";
        //é…ç½®è¯·æ±‚å¤´: 111æ˜¯åç«¯è¿”å›çš„éšæœº
        axios.defaults.headers.common['Authorization'] = '111'

          //å»é™¤æ§åˆ¶å°å¤æ‚ä¿¡æ¯
          Vue.config.productionTip = false;

        //1- å®‰è£…json-server 
        //2- åˆ›å»ºjsonæ–‡ä»¶
        //3- è®¿é—®jsæ–‡ä»¶   json-server --watch db.json  
        new Vue({
            el: '#app',
            data: {
                list:[],
            },
            methods: {
                //åˆ 
                del(){
                    axios.delete("fruits/7").then(res=>{
                        console.log(res.data);
                    })
                },

                //å¢
                add(){
                    axios.post("fruits",{name:'11'}).then(res=>{
                    console.log(res.data);
                    })
                },

                //æ”¹
                edit(){
                    axios.put("http://localhost:3000/fruits/4",{name:'èŠ’æœ'}).then(res=>{
                        console.log(res.data);
                    })
                }
            },

            //æŸ¥ 
             created(){
                axios.get('http://localhost:3000/fruits').then
                (res=>{
                    // console.log(res);
                    this.list = res.data;
                })

             }
        })
      
     
    </script>
</body>

</html>